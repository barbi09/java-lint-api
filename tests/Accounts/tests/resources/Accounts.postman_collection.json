{
	"info": {
		"_postman_id": "cedf9782-cfd3-4a20-94b0-140291043902",
		"name": "Accounts",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "10876523"
	},
	"item": [
		{
			"name": "GKE",
			"item": [
				{
					"name": "getList",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "topaz",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "14263",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLGKE}}/v1/accounts/list",
							"host": [
								"{{baseURLGKE}}"
							],
							"path": [
								"v1",
								"accounts",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "getBalance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "7791",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "123456788",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLGKE}}/v1/accounts/300800000001164/balance",
							"host": [
								"{{baseURLGKE}}"
							],
							"path": [
								"v1",
								"accounts",
								"300800000001164",
								"balance"
							]
						}
					},
					"response": []
				},
				{
					"name": "getDetail",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "7791",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "123456788",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							},
							{
								"key": "apikey",
								"value": "oaZd3f48i7TyWI7CkBFQ5ipxGHsPshm3QQfPFKUPvEHkXXXX",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLGKE}}/v1/accounts/300800000001164",
							"host": [
								"{{baseURLGKE}}"
							],
							"path": [
								"v1",
								"accounts",
								"300800000001164"
							]
						}
					},
					"response": []
				},
				{
					"name": "getMovements",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "3f145b82-58e4-4f92-91fd-e48cafb7a3d7",
								"type": "text"
							},
							{
								"key": "date-from",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLGKE}}/v1/accounts/400109405946508/movements?date-from=2024-02-26&date-to=2024-02-28&catalog-id=catalog&records-number=2&last-record=2&type=C",
							"host": [
								"{{baseURLGKE}}"
							],
							"path": [
								"v1",
								"accounts",
								"400109405946508",
								"movements"
							],
							"query": [
								{
									"key": "date-from",
									"value": "2024-02-26"
								},
								{
									"key": "date-to",
									"value": "2024-02-28"
								},
								{
									"key": "catalog-id",
									"value": "catalog"
								},
								{
									"key": "records-number",
									"value": "2"
								},
								{
									"key": "last-record",
									"value": "2"
								},
								{
									"key": "type",
									"value": "C"
								},
								{
									"key": "source-taxpayer-number",
									"value": "20060667498",
									"disabled": true
								},
								{
									"key": "causal-id",
									"value": "4493",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Local",
			"item": [
				{
					"name": "getList",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "12341"
							},
							{
								"key": "x-customer-id",
								"value": "1967434"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/v1/accounts/list?records-number=5&last-record=200109406127487",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"v1",
								"accounts",
								"list"
							],
							"query": [
								{
									"key": "records-number",
									"value": "5"
								},
								{
									"key": "last-record",
									"value": "200109406127487"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getList Case 2",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "12341",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "14263",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "5ac3dccb-ab35-49fe-827c-3d318dfc8e35",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/accounts/list?records-number=20&last-record=181108110259752",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"accounts",
								"list"
							],
							"query": [
								{
									"key": "records-number",
									"value": "20"
								},
								{
									"key": "last-record",
									"value": "181108110259752"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getBalance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/v1/accounts/300109400582121/balance",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"v1",
								"accounts",
								"300109400582121",
								"balance"
							]
						}
					},
					"response": []
				},
				{
					"name": "getDetail",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/v1/accounts/400109405946508",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"v1",
								"accounts",
								"400109405946508"
							]
						}
					},
					"response": []
				},
				{
					"name": "getDetail Case 2",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/v1/accounts/400109405946508",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"v1",
								"accounts",
								"400109405946508"
							]
						}
					},
					"response": []
				},
				{
					"name": "getMovements",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "3f145b82-58e4-4f92-91fd-e48cafb7a3d7",
								"type": "text"
							},
							{
								"key": "date-from",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURL}}/v1/accounts/400109405946508/movements?date-from=2024-02-26&date-to=2024-02-28&catalog-id=catalog&records-number=2&last-record=2&type=C",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"v1",
								"accounts",
								"400109405946508",
								"movements"
							],
							"query": [
								{
									"key": "date-from",
									"value": "2024-02-26"
								},
								{
									"key": "date-to",
									"value": "2024-02-28"
								},
								{
									"key": "catalog-id",
									"value": "catalog"
								},
								{
									"key": "records-number",
									"value": "2"
								},
								{
									"key": "last-record",
									"value": "2"
								},
								{
									"key": "type",
									"value": "C"
								},
								{
									"key": "source-taxpayer-number",
									"value": "20060667498",
									"disabled": true
								},
								{
									"key": "causal-id",
									"value": "4493",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Apigee",
			"item": [
				{
					"name": "getList",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "12341",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/list?records-number=5&last-record=200109406127487",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"list"
							],
							"query": [
								{
									"key": "records-number",
									"value": "5"
								},
								{
									"key": "last-record",
									"value": "200109406127487"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getList Case 2",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "12341",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "14263",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "5ac3dccb-ab35-49fe-827c-3d318dfc8e35",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/list?records-number=20&last-record=181108110259752",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"list"
							],
							"query": [
								{
									"key": "records-number",
									"value": "20"
								},
								{
									"key": "last-record",
									"value": "181108110259752"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getBalance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/300109400582121/balance",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"300109400582121",
								"balance"
							]
						}
					},
					"response": []
				},
				{
					"name": "getBalance Case 2",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "7791",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "c45d20ef-b8de-4abc-92b7-84191d6bc474",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/300800000001164/balance",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"300800000001164",
								"balance"
							]
						}
					},
					"response": []
				},
				{
					"name": "getDetail",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "b1a95d88-b13b-4ac6-b337-910d028f535f",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/400109405946508",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"400109405946508"
							]
						}
					},
					"response": []
				},
				{
					"name": "getDetail Case 2",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "7791",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "adb497b8-068c-4306-bc40-008e51c14550",
								"type": "text"
							},
							{
								"key": "x-forwarded-for",
								"value": "192.365.112",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/400109489174985",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"400109489174985"
							]
						}
					},
					"response": []
				},
				{
					"name": "getMovements",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{securityBearerToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "x-channel",
								"value": "66",
								"type": "text"
							},
							{
								"key": "x-customer-id",
								"value": "1967434",
								"type": "text"
							},
							{
								"key": "x-request-id",
								"value": "3f145b82-58e4-4f92-91fd-e48cafb7a3d7",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseURLApigee}}/v1/tz-accounts/400109405946508/movements?date-from=2024-02-26&date-to=2024-02-28&catalog-id=catalog&records-number=2&last-record=2&type=C",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"tz-accounts",
								"400109405946508",
								"movements"
							],
							"query": [
								{
									"key": "date-from",
									"value": "2024-02-26"
								},
								{
									"key": "date-to",
									"value": "2024-02-28"
								},
								{
									"key": "catalog-id",
									"value": "catalog"
								},
								{
									"key": "records-number",
									"value": "2"
								},
								{
									"key": "last-record",
									"value": "2"
								},
								{
									"key": "type",
									"value": "C"
								},
								{
									"key": "source-taxpayer-number",
									"value": "20060667498",
									"disabled": true
								},
								{
									"key": "causal-id",
									"value": "4493",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "oauth-access",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const responseJson = pm.response.json(); pm.collectionVariables.set(\"securityBearerToken\", responseJson.access_token);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var baseURL = pm.collectionVariables.get(\"baseURLApigee\");\r",
									"\r",
									"// Verificar si el valor de baseURL apunta a desarrollo o a testing\r",
									"if (baseURL === \"https://apipublic-dev.macro.com.ar\") {\r",
									"    // Establecer el header 'Authorization' para desarrollo\r",
									"    pm.request.headers.add({\r",
									"        key: \"Authorization\",\r",
									"        value: \"Basic b2FaZDNmNDhpN1R5V0k3Q2tCRlE1aXB4R0hzUHNobTNRUWZQRktVUHZFSGtHTVdLOm1reDV5QXVZbFdhY2JVTHlyWXpBM2VjTjVvbTFITUI1OVVHWExSUVd2U2dSd0RXZUlrY2tmRnN4U2E3bVpUVWg=\"\r",
									"    });\r",
									"} else if (baseURL === \"https://apipublic-test.macro.com.ar\") {\r",
									"    // Establecer el header 'Authorization' para testing\r",
									"    pm.request.headers.add({\r",
									"        key: \"Authorization\",\r",
									"        value: \"Basic eEVHQTNEMXpzUXNCZzJHeFppVFVPd2w5cEo5ZmtCQ3FyeWlid0k2amQzSGc3WE1IOnlHQTNGSGFid281dFk5NnBCcE81bmtFZXBtVjh2TXhYN3ZHakdlaFdTR1NibkU1YWtyOUtUVVNqVTEyUnBlMFg=\"\r",
									"    });\r",
									"} else {\r",
									"    console.log(\"El valor de baseURL no es reconocido.\");\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "openid",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseURLApigee}}/v1/oauth/access",
							"host": [
								"{{baseURLApigee}}"
							],
							"path": [
								"v1",
								"oauth",
								"access"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "actuatorHealthCheck",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://accounts-topaz-d1.gcp.macro.com.ar/actuator/health",
					"protocol": "http",
					"host": [
						"accounts-topaz-d1",
						"gcp",
						"macro",
						"com",
						"ar"
					],
					"path": [
						"actuator",
						"health"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseURL",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "baseURLApigee",
			"value": "https://apipublic-dev.macro.com.ar",
			"type": "string"
		},
		{
			"key": "baseURLGKE",
			"value": "http://accounts-topaz-d1.gcp.macro.com.ar",
			"type": "string"
		},
		{
			"key": "securityBearerToken",
			"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46Ly9hcGlnZWUtZWRnZS1KV1QtcG9saWN5LXRlc3QiLCJpYXQiOjE3MjE3NzM3MTQsImV4cCI6MTc1MzM3ODcyMCwiYXVkIjoidG9wYXoiLCJzdWIiOiJhcGlnZWUtdG9wYXoifQ.X3Ar-MOmRnS5k8HYQBigdYAqEgkyC7zjAP_i1uSchb4",
			"type": "string"
		}
	]
}